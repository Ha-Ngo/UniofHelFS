(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),a=t(15),u=t.n(a),o=(t(20),t(6)),i=t(3),s=t(0),d=function(e){var n=e.handleSearch,t=e.searchTerm;return Object(s.jsxs)("div",{children:["filter shown with"," ",Object(s.jsx)("input",{onChange:n,value:t})]})},l=function(e){var n=e.addPerson,t=e.handleNameChange,c=e.newName,r=e.handleNumberChange,a=e.newNumber;return Object(s.jsxs)("form",{onSubmit:n,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{onChange:t,value:c})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{onChange:r,value:a})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},j=t(4),b=t.n(j),h=function(e){var n=e.name,t=e.number,c=e.id;return Object(s.jsx)("ul",{children:Object(s.jsxs)("li",{children:[n," ",t," ",Object(s.jsx)("button",{onClick:function(){return function(e,n){window.confirm("Delete ".concat(n,"?"))&&b.a.delete("/api/persons/".concat(e))}(c,n)},children:"delete"})]})})},m=function(e){var n=e.personToShow;return Object(s.jsx)("div",{children:n.map((function(e){return Object(s.jsx)(h,{name:e.name,number:e.number,id:e.id},e.id)}))})},f="/api/persons",O={getAll:function(){return b.a.get(f)},create:function(e){return b.a.post(f,e)},update:function(e,n){return b.a.put("".concat(f,"/").concat(e),n)}},v=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"message",children:n})},p=function(e){var n=e.errorMessage;return null===n?null:Object(s.jsx)("div",{className:"error",children:n})};var x=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),u=Object(i.a)(a,2),j=u[0],b=u[1],h=Object(c.useState)(""),f=Object(i.a)(h,2),x=f[0],g=f[1],w=Object(c.useState)(""),C=Object(i.a)(w,2),S=C[0],N=C[1],T=Object(c.useState)(null),k=Object(i.a)(T,2),P=k[0],y=k[1],A=Object(c.useState)(null),F=Object(i.a)(A,2),L=F[0],D=F[1];Object(c.useEffect)((function(){O.getAll().then((function(e){return r(e.data)}))}),[]);var M=S?t.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())})):t;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(v,{message:P}),Object(s.jsx)(p,{errorMessage:L}),Object(s.jsx)(d,{handleSearch:function(e){N(e.target.value)},searchTerm:S}),Object(s.jsx)("h3",{children:"Add a new"}),Object(s.jsx)(l,{handleNameChange:function(e){b(e.target.value)},handleNumberChange:function(e){g(e.target.value)},newName:j,newNumber:x,addPerson:function(e){e.preventDefault();var n=t.find((function(e){return e.name===j})),c=Object(o.a)(Object(o.a)({},n),{},{number:x});if(t.map((function(e){return e.name})).includes(j))return window.confirm("".concat(j," is already added to phonebook, replace the old number with a new one?"))?O.update(c.id,c).then((function(e){r(t.map((function(n){return n.name!==j?n:e.data}))),y("Updated ".concat(j," number ")),setTimeout((function(){y(null)}),3e3),b(""),g("")})).catch((function(e){D("".concat(j," has already been removed from server")),setTimeout((function(){D(null)}),3e3)})):g("");var a={name:j,number:x};O.create(a).then((function(e){r(t.concat(e.data)),y("Added ".concat(j," ")),setTimeout((function(){y(null)}),3e3),b(""),g("")}))}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(m,{personToShow:M})]})},g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,u=n.getTTFB;t(e),c(e),r(e),a(e),u(e)}))};u.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),g()}},[[40,1,2]]]);
//# sourceMappingURL=main.001dd021.chunk.js.map